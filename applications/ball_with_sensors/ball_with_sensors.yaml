ball: 
  <f: osdt.create_system
  x:
    <f: osdt_examples.models.ball.State
    y_position: 3.0
    y_velocity: 0.0
  vars:
    p:osdt_examples.models.ball.Params: 
      <f: osdt_examples.models.ball.Params
      gravity: 9.81
      restitution: .95
  c: osdt_examples.models.ball.C
  f: osdt_examples.models.ball.F
  d: osdt_examples.models.ball.D
  g: osdt_examples.models.ball.G
  u: osdt_examples.models.ball.U
  y: osdt_examples.models.ball.Y

pos_sensor:
  <f: osdt.create_system
  x:
    <f: osdt_examples.models.sensor.State
    value: 0.0
    timer: 0.0
  vars:
    p:osdt_examples.models.sensor.Params:
      <f: osdt_examples.models.sensor.Params
      sample_period: 0.1
      sample_field: y_position
  c: osdt_examples.models.sensor.C
  f: osdt_examples.models.sensor.F
  d: osdt_examples.models.sensor.D
  g: osdt_examples.models.sensor.G
  u: osdt_examples.models.sensor.U
  y: osdt_examples.models.sensor.Y
  id: pos_sensor

vel_sensor:
  <f: osdt.create_system
  x:
    <f: osdt_examples.models.sensor.State
    value: 0.0
    timer: 0.0
  vars:
    p:osdt_examples.models.sensor.Params:
      <f: osdt_examples.models.sensor.Params
      sample_period: 0.1
      sample_field: y_velocity
  c: osdt_examples.models.sensor.C
  f: osdt_examples.models.sensor.F
  d: osdt_examples.models.sensor.D
  g: osdt_examples.models.sensor.G
  u: osdt_examples.models.sensor.U
  y: osdt_examples.models.sensor.Y
  id: vel_sensor
:
  <f: v:pos_sensor:set
  <*: [p:osdt_examples.models.sensor.INPUT, v:ball]
:
  <f: v:vel_sensor:set
  <*: [p:osdt_examples.models.sensor.INPUT, v:ball]
:
  <f: osdt.set_integrator
  integrator_type: "vode"
  max_step: 0.01
:
  <f: osdt.run
  time: 20.0
  jumps: 20

figure: # create the figure
  <f: osdt.create_figure
  width: 1200
  height: 800
  layout: [[1],[2]]
  title: Bouncing Ball with Sensors

# plot data (compressed form of yaml dictionaries)
: {<f: v:figure:plot, subplot: 1, y: y_position}
: {<f: v:figure:plot, subplot: 1, y: value, system: pos_sensor}
: {<f: v:figure:plot, subplot: 2, y: y_velocity}
: {<f: v:figure:plot, subplot: 2, y: value, system: vel_sensor}

: # export the figure
  <f: v:figure:export
  path: figure1
  format: png
  display: true

: # display figures.yaml
  <f: osdt.display