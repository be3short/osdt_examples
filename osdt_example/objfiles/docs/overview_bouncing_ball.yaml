system:
  ~~: "osdt.create_system"
  x:
    ~~: "osdt_example.models.bouncing_ball.State"
    y_position: 1.0
    y_velocity: 0.0
  c: "osdt_example.models.bouncing_ball.C"
  f: "osdt_example.models.bouncing_ball.F"
  d: "osdt_example.models.bouncing_ball.D"
  g: "osdt_example.models.bouncing_ball.G"
  vars:
    ~~osdt_example.models.bouncing_ball.PARAMS:
      ~~: "osdt_example.models.bouncing_ball.Params"
      gravity: 9.81
      restitution: .98

: {~~: "osdt.set_integrator", integrator_type: "vode", max_step: 0.1}
: {~~: "osdt.set_configuration", max_plot_points: 1000}

: {~~: "osdt.run", time: 5.0, jumps: 20.0}

fig: {~~: "osdt.create_figure", title: "Bouncing Ball", layout: [[1],[2]], width: 1200, height: 600, dpi: 130}

: {~~: "::fig::configure", subplot: 1, x_axis: "Time (s)", y_axis: "Position (m)"}
: {~~: "::fig::configure", subplot: 2, x_axis: "Time (s)", y_axis: "Velocity (m/s)"}

: {~~: "::fig::plot", subplot: 1, y: "y_position"}
: {~~: "::fig::plot", subplot: 2, y: "y_velocity"} 

: {~~: "osdt.display"}
: {~~: "::fig::export", path: "files/bouncing_ball", format: "png", overwrite: false}

data: {~~: "::system::get_data"}

: {~~: "::data::to_csv", path: "files/system_data_csv"}
: {~~: "osdt.save", object: "::system", path: "files/saved_system"}
: {~~: "osdt.save_environment", path: "files/saved_environment"}