data_part:
  system:
    ~~: "osdt.create_system"
    x:
      ~~: "osdt_example.models.bouncing_ball.State"
      y_position: 1.0
      y_velocity: 0.0
    c: "osdt_example.models.bouncing_ball.C"
    f: "osdt_example.models.bouncing_ball.F"
    d: "osdt_example.models.bouncing_ball.D"
    g: "osdt_example.models.bouncing_ball.G"
    vars:
      ~~osdt_example.models.bouncing_ball.PARAMS:
        ~~: "osdt_example.models.bouncing_ball.Params"
        gravity: 9.81


system: "::data_part::system"

set_integrator:   
  ~~: "osdt.set_integrator"
  integrator_type: "vode"
  max_step: 0.1

set_configuration:   
  ~~: "osdt.set_configuration"
  max_plot_points: 1000

run:   
  ~~: "osdt.run"
  time: 5.0
  jumps: 20.0 

fig:
  ~~: "osdt.create_figure" 
  layout: [[1],[2]]
  configure:
    1:
      x_axis: "Time (s)"
      y_axis: "Position (m)"
    2:
      x_axis: "Time (s)"
      y_axis: "Velocity (m/s)"
  plot: 
    1: [
      {y: "y_position"},
      #{x: "y_position", y: "y_velocity"}
    ]
    2: [
      {y: "y_velocity"}
    ]
  
display:
  ~~: "osdt.display"

export:
  ~~: "::fig::export"
  path: "files/bouncing_ball_overview_example_objfile"
  format: "png"

data:
  ~~: "::system::get_data"

data_to_csv:
  ~~: "::data::to_csv"
  path: "files/system_data_csv"

save_system:
  ~~: "osdt.save" 
  object: "::system"
  path: "files/saved_system"

save_environment:
  ~~: "osdt.save_environment"
  path: "files/saved_environment"